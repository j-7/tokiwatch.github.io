---
layout: post
title: "Dropbox と vim"
date: 2009-03-14 11:18:00 +0900
comments: false
categories: 
---


通常、vimを立ち上げると、そのディレクトリの中でswapファイルが生成される。

Dropboxのディレクトリ(フォルダ)の中でもそれは同じである。

ところが、Dropboxはそのswapファイルもバックアップしてしまう。

その結果、Dropboxのサーバ側で、大量のswapファイルのゾンビが発生することになる。

これを解決する方法としては、vimの設定を変更し、swapファイルを作成しないというのがある。

しかし、実はこれは適切な解決の方法ではない。

vimにおけるswapファイルは、不意にvimが落ちた場合に、編集作業の直前の状態を残す。また、同時に複数の端末やプロセスで同じファイルを開いてしまうことがないようにするためのチェック機能を持つ。したがって、swapファイルを生成しないという方法は、安全なコンピューティングという観点で、適切な方法ではない。

解決策としては、swapファイルを編集中のファイルと同じディレクトリに作成するのではなく、swapファイルを作成する専用のディレクトリを用意するという方法がある。

.vimrcファイルに以下の行を追加する。

> 

> 

>

> set directory=~/.vim/swap

>

> 

> 

=以下は、既存のディレクトリであれば、大体どこでも可能である。

上記はあくまでも、僕の設定でしかない。

ただ、気をつけてもらいたいのは、=の前後にスペースをおかないようにしなければならない。

