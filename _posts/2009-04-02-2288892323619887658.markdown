---
layout: post
title: "Perlのインタラクティブ環境"
date: 2009-04-02 08:01:00 +0900
comments: false
categories: ['プログラミング', 'unix']
---


Perlの開発環境についてちょっと実験をしようとしているのだが、ターミナルでインタラクティブにちょこちょこっと処理をしたい際などに、Perlのデバッグモードだと使い勝手がよくないことに気付いた。

以前に書いたように、rlwrapを挟んで利用するという方法もひとつあるが、これだと、ステップ実行を明示的に行わなければならないという根本的な改善点が解消されない。

そこで、pirlをインストールすることにした。

pirlはちょうど、Rubyのインタラクティブなシェルに近いものだと考えてもらえばよい。

pirl自体は、cpanで配布されているパッケージShell::Perlに含まれているものである。

ところが、Macでcpanでインストールしようとすると、関連パッケージとして孫引きされ、インストールされるMac::Carbonというパッケージのインストールで失敗するため、インストールが完了しない。

そのため素でMac::Carbonをコンパイルしてインストールする必要が生じる。

大した手間ではないのだが、手作業で実施するのは、非常に面倒くさい。

実は、これを解決する方法がある。

Portsで配布されているp5-mac-carbonというパッケージをインストールすれば良いのだ。

しかし、この方法の場合、MacPortsで構築することが前提となる。

とはいえ、実はMacPortsで環境を整えた方がいろいろなメリットがある。

cpan環境の整備に失敗した場合に、Perlの再インストールをすれば良いためである。

具体的には下記のような手続きでcpan環境(Perlの開発環境)を再構築できる。

sudo rm -rf ~/.cpan/

sudo rm -rf /opt/local/lib/perl5/\*

sudo uninstall perl5

sudo install perl5

sudo cpan

...

